<!doctype html>
<html>
  <head>
    <title>Samandagochi</title>
    <script src="http://code.createjs.com/easeljs-0.6.1.min.js"></script>
    <script src="scripts/jquery.js"></script>
    <link rel="stylesheet" href="style.css">
    <script>
      function init(){
        var canvas = document.getElementById('canvas')
        stage = new createjs.Stage(canvas),
        centerX = canvas.width/2,
        centerY = canvas.height/2;



        var sun = new createjs.Bitmap('assets/sun_moon/sun_moon-01.svg');
        var moon = new createjs.Bitmap('assets/sun_moon/sun_moon-02.svg');
        var sky1 = new createjs.Bitmap('assets/sky/sky.png');
        var sky2 = new createjs.Bitmap('assets/sky/sky3.png');
        var background1 = new createjs.Bitmap('assets/background/background.png');
        var background2 = new createjs.Bitmap('assets/background/background3.png');
        var cloud1 = new createjs.Bitmap('assets/clouds/clouds1.png');
        var cloud2 = new createjs.Bitmap('assets/clouds/clouds2.png');
        var cloud3 = new createjs.Bitmap('assets/clouds/clouds3.png');

        sun.x = 300;
        sun.y = 450;
        sun.regX =300;
        sun.regY = 300;

        cloud2.x = 150;
        cloud2.y = 150;

        cloud3.x = 400;
        cloud3.y = 75;

        moon.x = 300;
        moon.y = 550;
        moon.regX = -300;
        moon.regY = -300;
        stage.addChild(sky1);
        stage.addChild(sky2);
        stage.addChild(cloud1);
        stage.addChild(sun);
        stage.addChild(cloud2);
        stage.addChild(cloud3);
        stage.addChild(moon);
        stage.addChild(background1);
        stage.addChild(background2);


        createjs.Ticker.setInterval(25);
        createjs.Ticker.addListener(function(){
          var rotation = 0.5;
          var speedOfRotation = 50 / rotation
          sun.rotation += rotation;
          moon.rotation += rotation;
          cloud1.x += rotation * 2;
          cloud2.x -= rotation / 2;
          cloud3.x += rotation;
          if (cloud1.x > 600) {
            cloud1.x = -200;
          };
          if (cloud2.x < -150){
            cloud2.x = 600;
          }
          if (cloud3.x > 600){
            cloud3.x = -200;
          }
          if ((sun.rotation % 360 >= 100) && (sun.rotation % 360 <= 280) ){
            if (background2.alpha < 1){
            background2.alpha += 1/speedOfRotation;
            sky2.alpha += 1/speedOfRotation;
            };
          } else {
            if (background2.alpha > 0){
            background2.alpha -= 1/speedOfRotation;
            sky2.alpha  -= 1/speedOfRotation;};
          }
          stage.update();
        })


      }

      function randomNumber(){
        randomNumber = Math.floor(Math.random()*2);
      }

      function start(){
        $('#start').click(function(){
          createjs.Ticker.setPaused(false);
        })
      }

      function stop(){
        $('#stop').click(function(){
          createjs.Ticker.setPaused(true);
        })
      }


    </script>
  </head>
  <body onload = "init();">
    <canvas id="canvas" width="600px" height="600px"></canvas>
    <button id="start" onclick="start();">START</button>
    <button id="stop" onclick="stop();">STOP</button>
  </body>
</html>